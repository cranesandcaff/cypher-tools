    ╔═╗┬ ┬┌─┐┬ ┬┌─┐┬─┐  ╔╦╗┌─┐┌─┐┬  ┌─┐
    ║  └┬┘├─┘├─┤├┤ ├┬┘   ║ │ ││ ││  └─┐
    ╚═╝ ┴ ┴  ┴ ┴└─┘┴└─   ╩ └─┘└─┘┴─┘└─┘
    (Ascii-art generated by patorjk.com)

## About
-----------------

This is a NodeJS package, an object that holds various useful tools for Neo4J's
cypher query language. It has only a few functions now but they will steadily
grow.

### Object to String (objToString)

When you need something like this

    match (a {movie: "horror"})

or

    return {extra: true}

But the object is a variable and can't be used as a parameter such as the cases
above. You can't do this:

    var obj = {movie: "horror"}
    "match (a " + obj + ")"

    // results in
    // match (a [object Object])

or this

    "match (a " + JSON.stringify(obj) + ")"

    // results in
    // match (a {\"movie\": "horror"})

the second was close, but doesn't cut it, the query will be rejected with an error
as {\"movie\": "horror"} isn't a valid cypher object.

The fix is with this function which essentially adds quotes around the object.
All keys and values are preserved as-is.

    var obj = {movie: '"horror"'}
    "match (a " + cypherTools.objToString(obj) + ")"

    // results in
    // match (a {movie: "horror"})

cypher won't reject this query with an error as {movie: "horror"} is a valid
cypher statement.

The only caveat is if you want quotes around the key or value you must enclose
them in quotes in the string. Its like this because the value won't always have
quotes around it such as the case with arrays or booleans.

example

    {
        string: '"value"',
        boolean: "true",
        array: '["hello", "world"]'
    }

### Object to Parameters (objToParams)

When you want to leverage parameters and use a parameter to refer to an object.
Cypher doesn't always support this, you can just hard code it instead before sending
it over to the database but this skips optimizations and speed/simplicity
improvements.

This function fixes that, take this for a concrete example

    match (a {movie: "horror"})

you want to leverage parameters so you do this

    // query
    match (a {predicate})

    // parameters
    {
        predicate: {
            movie: "horror"
        }
    }

This will throw an error, cypher can't use parameters in this context. This function
solves situations like these by creating a "loop-back" object. In places where you
can't use a whole object as a parameter, Cypher usually allows a regular object
where the regular object properties leverage properties of the parameter object.

This is explained below

    // parameter string
    var predicateStr = cypherTools.objToParams("predicate", parameters.predicate);

    // results in
    // { movie: {predicate}.movie }

    // query
    match (a ${predicateStr})

    // parameters
    {
        predicate: {
            movie: "horror"
        }
    }

This time it works because "{ movie: {predicate}.movie }" is a valid cypher statement.

Essentially we convert an object to a string like above, but for the key values
we instead tell cypher to reference the key's value from the real object stored
in its parameters.

This may seem redundant and a bit convoluted, but it makes use of Neo4J's optimizations
which is good for everything including execution speed of your program and adds
no complexity to your program.

## Package and Contributions
-----------------

This is a well built package, it is tested with Jasmine and thoroughly documented
with comments throughout including a nice JSdoc generated docs folder.

Contributions are more than welcome and encouraged, please file any suggestions, comments,
feedback, or issues on the issue tracker and send pull requests for
contributions.

This project is licensed Apache 2.0
http://www.apache.org/licenses/LICENSE-2.0.txt

## How to use
-----------------

For npm users

1. Install with `npm install cypher-tools`
2. and just require/import it

For `git clone` users

1. Install the dev dependencies with `npm install`
2. Build with `npm run build`
3. Then just require/import it

Use it like a utility belt, just an object of helper functions, right now
the package is small but it'll grow over time.

## How to develop
-----------------

To develop, `git clone` this repository and `npm install` to install the
development dependencies. Make sure to run `npm run build` when
needed such as before tests and such which will compile ES6/7 to ES5 and
re-generate the docs You can run those individually if you want with
`npm run docs` and `npm run compile`.

For testing, just run `npm run test`

Then just push the changes and send a pull-request back

This project makes use of github project pages using the "gh-pages" branch and
JSDoc for all documentation and tutorials. So the way things are done for the
docs is this

1. Compile and test docs in master branch until happy
2. Commit to git
3. Run `npm run pages`
 * This will switch to the gh-pages branch, merge from master, and switch back
4. Run `git push --all`

## Documentation
-----------------

Detailed documentation exists for this package, it should already by viewable
on clone. Feel free to look through it for any questions you may have. The
source code is also heavily documented if you want to look through it
as well for answers.

Online docs exist here http://russellstoolbox.github.io/cypher-tools/docs
